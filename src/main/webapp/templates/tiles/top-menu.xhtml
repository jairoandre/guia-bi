<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">
<h:body>
  <h:form id="menuForm">
    <p:growl id="messages" showDetail="true" showSummary="true"
             autoUpdate="true" globalOnly="true"/>
    <p:menubar rendered="#{request.getUserPrincipal() != null}" toggleEvent="click">
      <p:menuitem action="/pages/index.xhtml?faces-redirect=true">
        <h:graphicImage library="img" name="favicon.png" height="15"/>
      </p:menuitem>
      <p:menuitem value="Usuários"
                  action="/admin/user/list.xhtml?faces-redirect=true" ajax="false"
                  rendered="#{sessionController.isUserInRoles('ADMINISTRATOR')}"
                  icon="ui-icon-person"/>
      <p:menuitem value="Guias"
                  action="/pages/guia/list.xhtml?faces-redirect=true" ajax="false"
                  icon="ui-icon-document"/>
      <f:facet name="options">
        <h:panelGroup style="margin-top: 3px;" layout="block">
          <h:outputText value="Olá, #{sessionController.username}     "
                        rendered="#{request.getUserPrincipal() != null}"/>
          <p:commandButton value="Logout" action="#{sessionController.logout}"
                           icon="fa fa-sign-out"
                           rendered="#{request.getUserPrincipal() != null}"/>
        </h:panelGroup>
      </f:facet>
    </p:menubar>
  </h:form>
</h:body>
</html>
